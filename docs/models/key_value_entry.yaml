KeyValueEntryKey:
  type: object
  required:
    - id
    - type
  properties:
    id:
      type: string
      example: "max_contracts_count" # TODO provide a list of valid keys and corresponding values
    type:
      type: string
      enum:
        - "key-value-entries"


# specific example for uint64 value in the kv-entry for using it in the example response
# TODO: make proper one case (u32 OR u64 OR str) using in KeyValueEntryValue
KeyValueEntryValueU32:
  type: object
  description: |
    Defines the KeyValueEntry value .
    Note that, according to the defined `type`, only one value field is present.
    All other fields are either `null` or absent.\n
    Possible value fields:
    * `U32`
    * `U64`
    * `Str`
  required:
    - type
  properties:
    type:
      type: object
      descriprion: defines the type of value stored in the KV pair
      required:
        - name
      properties:
        name:
          type: string
          example: "uint32"
          descriprion: defines the type name of the value stored in the KV pair
        value:
          type: number
          example: 1
          description: defines the code of type of the value stored in the KV pair
    u_32:
      type: number
      example: 1
      format: uint32

KeyValueEntryValueU64:
  type: object
  description: |
    Defines the value of KeyValueEntry.
    Note that according to the defined `type`, only one value field is present.
    All other fields are either `null` or absent.\n
    Possible value fields:
    * `U32`
    * `U64`
    * `Str`
  required:
    - type
  properties:
    type:
      type: object
      descriprion: defines the type of the value stored in the KV pair
      required:
        - name
      properties:
        name:
          type: string
          example: "uint64"
          descriprion: defines the type name of the value stored in the KV pair
        value:
          type: number
          example: 3
          description: defines the code of type of the value stored in the KV pair
    u_64:
      type: number
      example: 1
      format: uint64


KeyValueEntryValueStr:
  type: object
  description: |
    Defines the value of KeyValueEntry.
    Note that, according to the defined `type`, only one value field is present.
    All other fields are either `null` or absent.\n
    Possible value fields:
    * `U32`
    * `U64`
    * `Str`
  required:
    - type
  properties:
    type:
      type: object
      descriprion: defines the type of the value stored in the KV pair
      required:
        - name
      properties:
        name:
          type: string
          example: "string"
          descriprion: defines the type name of the value stored in the KV pair
        value:
          type: number
          example: 2
          description: defines the code of type of the value stored in the KV pair
    str:
      type: string
      example: "example-value"



KeyValueEntry:
  allOf:
  - $ref: '#/components/schemas/KeyValueEntryKey'
  - type: object
    properties:
      attributes:
        type: object
        required:
          - value
        properties:
          value:
            oneOf:
            - $ref: '#/components/schemas/KeyValueEntryValueU32'
            - $ref: '#/components/schemas/KeyValueEntryValueU64'
            - $ref: '#/components/schemas/KeyValueEntryValueStr'
