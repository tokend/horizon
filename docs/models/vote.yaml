VoteKey:
  type: object
  properties:
    id:
      type: string
      example: "GBSR6JG5AYSAW7HK6EGJFYVIVN54LVGSY3ZLJ6X3IBQZ766EJABCZQTH"
      description: "Account address of the voter"
    type:
      type: string
      enum:
        - "votes"

Vote:
  allOf:
    - $ref: '#/components/schemas/VoteKey'
    - type: object
      required: [relationships, attributes]
      properties:
        id:
          type: string
          example: "1"
        type:
          type: string
          enum:
            - "votes"
        relationships:
          type: object
          properties:
            voter:
              type: object
              description: "the account that submitted the vote"
              properties:
                data:
                  $ref: '#/components/schemas/AccountKey'
            poll:
              type: object
              description: "poll where the vote was submitted to"
              properties:
                data:
                  $ref: '#/components/schemas/PollKey'
        attributes:
          type: object
          properties:
            vote_data:
              type: object
              oneOf:
                - $ref: '#/components/schemas/SingleChoice'
#                - $ref: '#/components/schemas/MultipleChoice'


SingleChoice:
  type: object
  required:
    - poll_type
  properties:
    poll_type:
      type: object
      description: "poll type"
      properties:
        name:
          type: string
          description: "name of the flag"
          example: "single_choice"
        value:
          type: integer
          description: "value of the flag"
          example: 0
    choice:
      type: integer
      description: "Choice for SingleChoice poll type"
      example: 1

MultipleChoice:
  type: object
  required:
    - poll_type
  properties:
    poll_type:
      type: object
      description: "poll type"
      properties:
        name:
          type: string
          description: "name of the flag"
          example: "multiple_choice"
        value:
          type: integer
          description: "value of the flag"
          example: 1
    choices:
      type: array
      items:
        type: integer
        description: "Choice for multiple choice poll type"
        example: 1