ExternalSystemIDKey:
  type: object
  required:
    - id
    - type
  properties:
    id:
      type: string
      example: "1"
    type:
      type: string
      enum:
        - "external-system-ids"

ExternalSystemID:
  allOf:
    - $ref: '#components/schemas/ExternalSystemIDKey'
    - type: object
      properties:
        relationships:
          type: object
          required:
            - account
          properties:
            account:
              type: object
              description: "account related to the particular external system ID"
              properties:
                data:
                  $ref: '#/components/schemas/AccountKey'
        attributes:
          type: object
          required:
            external_system_type:
              type: int32
              description: "type of the binded external system"
              example: 1
            data:
              type: string
              description: "info about balances/accounts in binded external system"
              example: "0x34C274CA68d7F5bd39b855194Dc3382Fd99aee58"
            is_deleted:
              type: bool
              description: "define was the external system ID removed from pool"
              example: false
            expires_at:
              type: string
              description: "when binding of external system ID expires"
              example: "2012-11-01T22:08:41+00:00"
            binded_at:
              type: string
              description: "when external system ID was binded"
              example: "2012-10-30T22:08:41+00:00"
